PocketFit 更新日志
==================

版本 2.1.0 (2025-11-30)
----------------------
【新增功能】
• 多语言支持 🌐
  - 支持中文和英文双语切换
  - 设置页面新增语言选择器
  - 所有界面文本支持国际化
  - 实时切换，无需重启应用
  - 通知消息完全国际化

【技术实现】
• Flutter官方国际化方案
  - ARB (Application Resource Bundle) 文件格式
  - AppLocalizations 类统一管理翻译
  - LocalizationsDelegate 自动加载语言资源
  - ValueNotifier 实现响应式语言切换

• 翻译覆盖（150+ 翻译键）
  - 主页、挑战页面、设置页面
  - 统计页面、训练数据采集页面
  - 传感器测试页面、活动历史页面
  - 通知消息（久坐提醒、活动检测）
  - 运动类型名称和描述
  - 所有按钮和标签

• 运动类型国际化
  - ActivityTypeExtension 新增 getDisplayName(context)
  - ActivityTypeExtension 新增 getDescription(context)
  - 支持9种运动类型双语显示
  - 弃用旧的 displayName 和 description getter

• 通知服务国际化
  - NotificationService 集成 LocalizationService
  - 根据当前语言动态选择通知文本
  - 支持频道名称、描述、标题、正文的双语显示
  - 17个新增通知相关翻译键

【界面优化】
• 设置页面语言选择器
  - 优化布局：文字和按钮上下排列
  - 使用 SegmentedButton 组件
  - 按钮占据整个卡片宽度
  - 蓝色语言图标标识
  - 实时切换反馈提示

【版本信息】
• 版本号: 2.1.0+3
• 发布日期: 2025-11-30
• 主要更新: 完整的多语言支持

---

版本 2.0.0 (2025-11-30)
----------------------
【重大更新】
• 深度学习模型集成 🧠
  - LSTM神经网络运动识别（92.31%准确率）
  - 支持5种运动类型智能识别
  - TensorFlow Lite模型部署（124KB）
  - 实时推理和计数（50-100ms延迟）
  - 用户可选择AI模型或传统算法

【新增功能】
• ML推理服务
  - 加载TFLite模型和配置
  - 实时运动类型预测
  - 基于峰值检测的智能计数
  - 数据缓冲和窗口管理（50个数据点）

• 深度学习检测开关
  - 设置页面新增"深度学习检测"选项
  - 紫色脑图标标识
  - 启用/禁用提示信息
  - 持久化存储用户选择

• 模型训练工具
  - Python训练脚本（train_model.py）
  - LSTM架构（2层LSTM + 全连接层）
  - 计数配置生成（train_counter_model.py）
  - 峰值检测参数优化

【技术实现】
• 模型架构
  - Input: (50, 6) - 50时间步 × 6特征
  - LSTM(64) + Dropout(0.3)
  - LSTM(32) + Dropout(0.3)
  - Dense(32, relu) + Dropout(0.2)
  - Dense(5, softmax)
  - 总参数: 31,813 (124KB)

• 性能指标
  - 验证准确率: 92.31%
  - 推理延迟: ~50-100ms
  - 模型大小: 124KB
  - 最低Android版本: 8.0 (API 26)

• 运动识别服务升级
  - 双模式支持（AI/传统）
  - 自动模式切换
  - 统一的识别接口
  - 实时性能监控

【优化改进】
• 依赖更新
  - 添加tflite_flutter: ^0.10.4
  - 提升minSdkVersion到26
  - 优化Gradle构建配置

• 文档完善
  - 新增ML_INTEGRATION_GUIDE.md
  - 详细的集成指南
  - API使用文档
  - 性能对比分析

【界面优化】
• 设置页面
  - 新增深度学习检测开关
  - 优化布局和间距
  - 添加功能说明

版本 1.0.0 (2025-11-22)
----------------------
【新增功能】
• 训练数据采集系统
  - 支持5种运动类型数据采集（跳跃、深蹲、挥手、摇晃、八字绕圈）
  - 10Hz高频采样，TXT元信息+CSV数据格式
  - 随机次数生成（10-40次），提高数据集鲁棒性
  - 准备阶段设计，用户可从容准备后手动开始采集
  - 数据管理功能（查看、删除、清空）
  - 支持导出到电脑用于机器学习训练

• 八字形绕圈运动识别
  - 新增八字形（∞）运动类型
  - 基于陀螺仪X/Y轴旋转的智能识别算法
  - 识别准确率约85%

【优化改进】
• 数据采集流程优化
  - 共享删除按钮，避免孤儿文件
  - 准备阶段，用户控制开始时机
  - 随机目标次数，增强数据多样性

• 运动识别算法优化
  - 八字形识别阈值调优
  - 检测优先级调整
  - 减少误识别率

【界面优化】
• 数据采集页面布局优化
  - 修复卡片内容溢出问题
  - 优化字体大小和间距
  - 美观的渐变卡片设计

版本 0.7.0 (2025-11-15)
----------------------
【新增功能】
• 数据存储和统计系统
  - SQLite数据库存储活动记录和久坐记录
  - 每日统计自动计算和更新
  - 统计页面显示周/月数据
  - 活动类型分布可视化
  - 目标追踪功能（30分钟/天）

版本 0.6.0 (2025-11-15)
----------------------
【新增功能】
• 多模态反馈系统
  - 声音反馈（系统音效）
  - 震动反馈（5种震动模式）
  - 触觉反馈（轻/重触感）
  - 视觉反馈（计数动画、进度条）
  - 里程碑提示（50%、75%）

版本 0.5.0 (2025-11-15)
----------------------
【新增功能】
• 互动运动识别系统
  - 支持4种运动识别：跳跃、深蹲、挥手、摇晃
  - 活动挑战页面（倒计时、实时识别、进度追踪）
  - 运动计数功能
  - 挑战完成对话框

【技术实现】
• 基于传感器数据的运动识别算法
• 实时活动识别和计数
• 防重复计数机制

版本 0.4.0 (2025-11-15)
----------------------
【新增功能】
• 活动提醒系统
  - 本地通知功能（30分钟警告、60分钟严重警告）
  - 振动反馈（短振动、长振动）
  - 通知渠道配置（橙色警告、红色严重）
  - 设置页面开关（通知、振动、声音）

【技术实现】
• flutter_local_notifications 集成
• vibration 插件集成
• Android 通知权限处理

版本 0.3.0 (2025-11-15)
----------------------
【新增功能】
• 久坐检测算法
  - 实时久坐时长统计
  - 智能活动检测（1分钟阈值）
  - 久坐警告系统（30分钟、60分钟）
  - 首页久坐状态卡片（5种状态颜色）

【技术实现】
• 久坐计时器（每秒更新）
• 状态变化事件通知
• 活动时长判断逻辑

版本 0.2.0 (2025-11-14)
----------------------
【新增功能】
• 传感器数据采集模块
  - 加速度计和陀螺仪数据监听
  - 动态采样频率（0.5Hz-10Hz）
  - 运动状态检测（静止/运动/未知）
  - 传感器测试页面

【优化改进】
• 切换到陀螺仪检测（避免重力影响）
• 使用magnitude²优化性能（提升20-30%）
• 三级采样频率系统（省电50%）

【技术实现】
• 滑动窗口数据缓冲（10个数据点）
• 统计分析（方差、均值、标准差）
• Stream广播架构

版本 0.1.0 (2025-11-12)
----------------------
【新增功能】
• 项目基础架构
  - 首页（欢迎区域、今日统计、快速操作）
  - 统计页面（时间段选择、数据概览）
  - 设置页面（通知设置、活动设置、关于信息）
  - 底部导航栏（三页切换）

【技术实现】
• Flutter 3.22.2 + Dart 3.4.3
• Material Design 3
• Android权限配置（传感器、通知、振动）
• Gradle 8.7 + AGP 8.3.0

---
开发团队：PocketFit Team
联系方式：liw324@lehigh.edu

